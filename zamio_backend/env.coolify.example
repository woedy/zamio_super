# Core Django settings
SECRET_KEY=replace-me
DEBUG=false
ALLOWED_HOSTS=api.zamio.com,api.zamio.internal
CSRF_TRUSTED_ORIGINS=https://app.zamio.com,https://admin.zamio.com
BASE_URL=https://api.zamio.com

# Database
DATABASE_URL=postgresql://zamio:strong-password@postgres:5432/zamio
# Optional read replica for analytics
# DATABASE_READ_URL=postgresql://zamio_read:password@replica:5432/zamio
DB_CONN_MAX_AGE=600

# Caching / Celery broker
REDIS_URL=redis://redis:6379/0
CELERY_BROKER_URL=redis://redis:6379/0
CELERY_RESULT_BACKEND=redis://redis:6379/0
CELERY_WORKER_CONCURRENCY=4
CELERY_MAX_TASKS_PER_CHILD=1000

# Deployment role: web | worker | beat
SERVICE_ROLE=web
PORT=8000
DJANGO_RUN_CHECKS=true

# Email (example SMTP settings)
EMAIL_BACKEND=django.core.mail.backends.smtp.EmailBackend
EMAIL_HOST=smtp.sendgrid.net
EMAIL_HOST_USER=apikey
EMAIL_HOST_PASSWORD=replace-me
EMAIL_PORT=587
EMAIL_USE_TLS=true
DEFAULT_FROM_EMAIL=Zamio <no-reply@zamio.com>

# Security / API configuration
SECURE_SSL_REDIRECT=true
SECURE_HSTS_SECONDS=31536000
SECURE_HSTS_INCLUDE_SUBDOMAINS=true
SECURE_HSTS_PRELOAD=true
SESSION_COOKIE_SECURE=true
CSRF_COOKIE_SECURE=true
CSP_DEFAULT_SRC='self'
CSP_SCRIPT_SRC='self'
CSP_STYLE_SRC='self'
CSP_IMG_SRC='self' data:
CSP_FONT_SRC='self' data:
CSP_CONNECT_SRC='self' https://api.zamio.com
CSP_FRAME_ANCESTORS='none'
PERMISSIONS_POLICY=camera=(), microphone=(), geolocation=()
CROSS_ORIGIN_OPENER_POLICY=same-origin
CROSS_ORIGIN_EMBEDDER_POLICY=require-corp
CROSS_ORIGIN_RESOURCE_POLICY=same-origin
CORS_ALLOWED_ORIGINS=https://app.zamio.com,https://admin.zamio.com
DEFAULT_PRO=ghamro
RECIPROCAL_AGREEMENTS_ENABLED=true
FOREIGN_PRO_RATE_PERCENTAGE=15.0
LOCAL_PRO_RATE_PERCENTAGE=10.0

# Media & static (local volume example)
# AWS_ACCESS_KEY_ID=...
# AWS_SECRET_ACCESS_KEY=...
# AWS_STORAGE_BUCKET_NAME=...
# AWS_S3_REGION_NAME=...

# Third-party integrations
ACRCLOUD_ACCESS_KEY=
ACRCLOUD_ACCESS_SECRET=
ACRCLOUD_HOST=identify-eu-west-1.acrcloud.com
ACRCLOUD_REGION=eu-west-1
LOCAL_CONFIDENCE_THRESHOLD=0.8
ACRCLOUD_CONFIDENCE_THRESHOLD=0.7
HYBRID_FALLBACK_ENABLED=true
MAX_RETRY_ATTEMPTS=3
PROCESSING_TIMEOUT_SECONDS=30

# Analytics / logging hooks
SENTRY_DSN=

# Adjust the wait loop if your database needs longer to boot
DB_WAIT_ATTEMPTS=60
DB_WAIT_DELAY=2
